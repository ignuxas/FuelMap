{"version":3,"sources":["components/FuelTypeCircles.jsx","components/Handlers.jsx","components/LocationPopup.jsx","components/SideCircles.jsx","components/StationsTable.jsx","App.js","reportWebVitals.js","index.js"],"names":["FuelTypeCircles","props","fuelPrices","fuelTypes","averagePrices","avgPrices","map","fuelPrice","index","className","circleClasses","height","width","cx","cy","r","circleText","contenteditable","editableField","stationID","contentEditable","getFuelStations","order","a","Axios","get","api","then","response","status","SetFuelStationDataFunc","data","SetErrorCodeFunc","catch","error","document","getElementById","style","display","handleEdit","location","type","lID","ID","currentPrices","A95","A98","D","LPG","changedPricesDivs","querySelectorAll","loadingIcon","querySelector","editIcon","console","log","opacity","changedPrices","forEach","priceDiv","price","parseFloat","innerHTML","split","fuelType","parentElement","classList","replace","changed","Object","entries","key","fetch","method","headers","body","JSON","stringify","LocationPopup","name","address","id","position","onClick","updated","minPriceStations","minPrices","averagePrice","toFixed","setPos","latitude","longitude","StationsTable","useState","setEditableField","FuelStationData","quantity","setDisplayedTableStations","App","Map","menuOpen","SetFuelStationData","DisplayedTableStations","ErrorCode","setErrorCode","getMinStation","array","average","minNum","stationNum","i","length","trueLength","value","useEffect","MapController","useMap","zoom","getZoom","flyTo","A95Prices","A98Prices","DPrices","LPGPrices","push","avgA95Price","avgA98Price","avgDPrice","avgLPGPrice","minA95PriceStation","minA98PriceStation","minDPriceStation","minLPGPriceStation","href","target","rel","menu","left","openMenu","MapContainer","whenCreated","center","zoomControl","preferCanvas","TileLayer","attribution","url","subdomains","maxZoom","CircleMarker","radius","pathOptions","color","fillOpacity","fillColor","bubblingMouseEvents","weight","class","Popup","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.175a5023.chunk.js","sourcesContent":["import { circleClasses, circleText } from \"../App\";\r\n\r\nexport default function FuelTypeCircles(props) {\r\n    const fuelPrices = props.fuelTypes;\r\n    const averagePrices = props.avgPrices;\r\n\r\n    return (\r\n        fuelPrices.map((fuelPrice, index) => {\r\n            return (\r\n                fuelPrice > 0 && fuelPrice !== null ? (\r\n                <div className={`circle ${circleClasses[index]}`}>\r\n                    <svg height=\"30\" width=\"30\">\r\n                        <circle cx=\"15\" cy=\"15\" r=\"15\" />\r\n                    </svg>\r\n                    <h4 className=\"iconText\">{circleText[index]}</h4>\r\n                    <div contenteditable={props.editableField === props.stationID ? \"true\":\"false\"\r\n                        /* code above has a bug on popup and it's always editable, lets call it a feature*/}\r\n                         className={`price ${averagePrices[index] > fuelPrice ? (\"priceGreen\") : (\"priceRed\")}`}>\r\n                            <span contentEditable=\"false\">€</span>&nbsp;{fuelPrice /* todo: fix warnings */}\r\n                        </div>\r\n                </div>\r\n                ) : (<></>)\r\n            )\r\n        })\r\n    )\r\n}","import { api } from \"../App\";\r\n\r\nimport { SetFuelStationDataFunc, SetErrorCodeFunc } from \"../App\";\r\nimport Axios from \"axios\";\r\n\r\nexport async function getFuelStations(order) {\r\n    await Axios.get(`${api}/fuelstations`).then((response) => {\r\n      if(response.status === 200){ SetFuelStationDataFunc(response.data) } \r\n      else { SetErrorCodeFunc(response.status) }\r\n    }).catch((error) => { SetErrorCodeFunc(500) });\r\n\r\n    document.getElementById(\"Loading\").style.display = \"none\";\r\n    return true;\r\n};\r\n\r\nexport async function handleEdit(location, type=\"popup\"){\r\n    const lID = location.ID;\r\n    // todo: make this not hard-coded\r\n    const currentPrices = {\r\n        A95: location.A95,\r\n        A98: location.A98,\r\n        D: location.D,\r\n        LPG: location.LPG\r\n    };\r\n\r\n    var changedPricesDivs;\r\n\r\n    var loadingIcon;\r\n    var editIcon;\r\n    \r\n    if(type === \"popup\"){\r\n        changedPricesDivs = document.querySelectorAll(`#s${lID} .price`);\r\n        loadingIcon = document.querySelector(`#LoadEditP${lID}`);\r\n        editIcon = document.querySelector(`#EditIconP${lID}`);\r\n    } else {\r\n        changedPricesDivs = document.querySelectorAll(`#t${lID} .price`);\r\n        loadingIcon = document.querySelector(`#LoadEdit${lID}`);\r\n        editIcon = document.querySelector(`#EditIcon${lID}`); // todo: code below depends on a class, should be changed\r\n    }\r\n\r\n    console.log(loadingIcon);\r\n    console.log(editIcon);\r\n\r\n    loadingIcon.style.display = \"block\"; // show loading animation\r\n    editIcon.style.opacity = 0; // hide edit icon\r\n\r\n    // todo: make this not hard-coded\r\n    var changedPrices = {\r\n        A95: 0,\r\n        A98: 0,\r\n        D: 0,\r\n        LPG: 0\r\n    };\r\n\r\n    changedPricesDivs.forEach((priceDiv) => {\r\n        // todo: code below depends on a class, should be changed\r\n        const price = parseFloat(priceDiv.innerHTML.split(\"&nbsp;\")[1]);\r\n        const fuelType = priceDiv.parentElement.classList[1].replace(\"circle\", \"\");\r\n\r\n        changedPrices[fuelType] = price;\r\n    });\r\n\r\n    // check if any prices were changed\r\n    var changed = false;\r\n    for (const [key, value] of Object.entries(changedPrices)) {\r\n        if(value !== currentPrices[key]){\r\n            changed = true;\r\n        }\r\n    }\r\n\r\n    // if any prices were changed, send a post request to the server\r\n    if(changed){\r\n        await fetch(api+\"/editfuelstation\" , {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    ID: lID,\r\n                    A95: changedPrices.A95,\r\n                    A98: changedPrices.A98,\r\n                    D: changedPrices.D,\r\n                    LPG: changedPrices.LPG\r\n                })\r\n            })\r\n            .then(async (data) => {\r\n                if(data.status === 200){\r\n                    await getFuelStations();\r\n                } else {\r\n                    console.log(\"Kainos nepakeistos\");\r\n                }\r\n            }\r\n        );\r\n    } else {\r\n        console.log(\"Kainos nepakeistos\");\r\n    }\r\n\r\n    loadingIcon.style.display = \"none\"; // hide loading animation\r\n    editIcon.style.opacity = 1; // show edit icon\r\n\r\n    console.log(\"Edit handled\");\r\n}","import FuelTypeCircles from \"./FuelTypeCircles\";\r\n\r\nimport { handleEdit } from \"./Handlers\";\r\n\r\nexport default function LocationPopup(props) {\r\n    const location = props.location;\r\n    const averagePrices = props.averagePrices;\r\n\r\n    return (\r\n    <>\r\n        <div className=\"StationInfo\">\r\n            <h2 className=\"StationName\">{location.name}</h2>\r\n            <h4 className=\"address\">{location.address}</h4>\r\n        </div>\r\n\r\n        <div className=\"prices\" id={`s${location.ID}`}>\r\n            <FuelTypeCircles \r\n            fuelTypes={[location.A95, location.A98, location.D, location.LPG]}\r\n            avgPrices={averagePrices}>\r\n            </FuelTypeCircles>\r\n        </div>\r\n\r\n        <div style={{position:\"relative\"}}>\r\n            <a className=\"ChangeLink\" id={`EditIconP${location.ID}`} onClick={() => handleEdit(location)}>\r\n                Keisti Kainą\r\n            </a>\r\n            <div className=\"lds-dual-ring small blue\" id={`LoadEditP${location.ID}`} />\r\n        </div>\r\n\r\n\r\n        <h4 className=\"updated\">{location.updated}</h4>\r\n    </>\r\n    )\r\n}","import { circleClasses, circleText } from \"../App\";\r\n\r\nexport default function FuelTypeCircles(props) {\r\n    const averagePrices = props.averagePrices;\r\n    const minPriceStations = props.minPriceStations;\r\n    const minPrices = props.minPrices;\r\n    \r\n    return (\r\n        averagePrices.map((averagePrice, index) => (\r\n            <div className={`circleDisplay ${circleClasses[index]}`}>\r\n                <svg height=\"60\" width=\"60\"><circle cx=\"30\" cy=\"30\" r=\"30\"/>\r\n                </svg>\r\n                <h4 className=\"iconTextDisplay\">{circleText[index]}</h4>\r\n                <div className=\"fuelPricesDiv\">\r\n                    <h4 >VID: {averagePrice.toFixed(2)}€</h4>\r\n                    <h4 className=\"minPrice\" \r\n                        onClick={() => props.setPos([minPriceStations[index].latitude, minPriceStations[index].longitude])}> \r\n                        MIN: {minPrices[index].toFixed(2)}€</h4>\r\n                </div>\r\n            </div>\r\n        ))\r\n    )\r\n}","import FuelTypeCircles from \"./FuelTypeCircles\";\r\nimport { useState } from \"react\";\r\nimport { handleEdit } from \"./Handlers\";\r\n\r\nexport default function StationsTable(props) {\r\n    const [editableField, setEditableField] = useState(-1);\r\n    const FuelStationData = props.FuelStationData;\r\n    const averagePrices = props.averagePrices;\r\n    const quantity = props.quantity;\r\n\r\n    return (\r\n        <>\r\n        {FuelStationData.map((location, index) => (\r\n            location.A95 || location.A98 || location.D || location.LPG ? (\r\n            <div className={`stationRow ${editableField === location.ID ? \"editable\":\"\"}`} key={location.ID} \r\n                style={index > quantity ? {display:\"none\"}:{display:\"block\"}}\r\n            >\r\n                <div className=\"stationHeaders\" onClick={() => props.setPos([location.latitude, location.longitude])}>\r\n                    <div className=\"stationName\">{location.name}</div>\r\n                    <div className=\"stationAddress\">{location.address}</div>\r\n                </div>\r\n                <div className=\"stationPrices\" id={`t${location.ID}`}>\r\n                    <FuelTypeCircles\r\n                        fuelTypes={[location.A95, location.A98, location.D, location.LPG]}\r\n                        avgPrices={averagePrices}\r\n                        stationID={location.ID}\r\n                        editableField={editableField}\r\n                    ></FuelTypeCircles>\r\n                </div>\r\n                <div className=\"stationUpdated\">{location.updated}</div>\r\n                <div className=\"stationEdit\" onClick={ // cancel editing if already editing\r\n                    editableField === location.ID ? \r\n                        () => {setEditableField(-1); handleEdit(location, \"table\")} : // if already editing\r\n                        () => setEditableField(location.ID)}\r\n                    >\r\n                    <div className=\"lds-dual-ring small\" id={`LoadEdit${location.ID}`}/>\r\n                    <i className=\"fa-solid fa-pen-to-square\" id={`EditIcon${location.ID}`}></i>\r\n                </div>\r\n            </div>\r\n        ) : (<></>)))}\r\n        <a className=\"aeffect\" onClick={\r\n            () => props.setDisplayedTableStations(quantity + 12)\r\n            }>LOAD MORE</a>\r\n        </>\r\n    )\r\n}","import \"./App.css\";\nimport \"./styles/StationsTables.css\";\nimport { useState } from \"react\";\nimport React, { useEffect } from \"react\";\nimport { MapContainer, TileLayer, Popup, CircleMarker, useMap} from \"react-leaflet\";\n\nimport LocationPopup from \"./components/LocationPopup\";\nimport SideCirles from \"./components/SideCircles\";\nimport StationsTable from \"./components/StationsTable\";\n\nimport { getFuelStations } from \"./components/Handlers\";\n\nexport const circleClasses=['circleA95', 'circleA98', 'circleD', 'circleLPG']\nexport const circleText=['95', '98', 'D', 'LPG']\n\nexport const api = \"https://fuelapi.ignuxas.com\"\n\nexport var SetFuelStationDataFunc;\nexport var SetErrorCodeFunc;\n\nfunction App() {\n  var Map;\n  var menuOpen = false;\n\n  const [FuelStationData, SetFuelStationData] = useState([]);\n  const [DisplayedTableStations, setDisplayedTableStations] = useState(12);\n  const [ErrorCode, setErrorCode] = useState(200);\n\n  useEffect(() => {\n    // there is a better way to do this, will re-write sometime\n    SetErrorCodeFunc = setErrorCode;\n    SetFuelStationDataFunc = SetFuelStationData;\n\n    getFuelStations();\n  }, []);\n\n  function getMinStation(array, average) {\n    var minNum = 99;\n    var stationNum = 0;\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i] !== null && array[i] > average - 0.3) { // filter out troll and null data\n        if (array[i] < minNum) {\n          minNum = array[i];\n          stationNum = i;\n        }\n      }\n    }\n\n    return FuelStationData[stationNum];\n  }\n\n  function averagePrice(array){\n    var trueLength = 0;\n    var value = 0\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i] !== null && array[i] > 0.4 && array[i] < 3) { // filter out troll and null data\n        trueLength += 1\n        value += array[i]\n      }\n    }\n    return (value / trueLength)\n  }\n\n  const MapController = (position) => {\n    const map = useMap();\n    Map = map;\n    return <></>;\n  };\n\n  function setPos(position, zoom=Map.getZoom(), offset=[30000,0]) {\n    Map.flyTo(position, zoom);\n  }\n\n  if (FuelStationData.length !== 0) {\n    //there is a better way to do this, will re-write sometime\n\n    const A95Prices = [];\n    const A98Prices = [];\n    const DPrices = [];\n    const LPGPrices = [];\n\n    for (let i = 0; i < FuelStationData.length; i++) {\n      A95Prices.push(FuelStationData[i].A95);\n      A98Prices.push(FuelStationData[i].A98);\n      DPrices.push(FuelStationData[i].D);\n      LPGPrices.push(FuelStationData[i].LPG);\n    }\n    //average prices\n    var avgA95Price = averagePrice(A95Prices);\n    var avgA98Price = averagePrice(A98Prices);\n    var avgDPrice = averagePrice(DPrices);\n    var avgLPGPrice = averagePrice(LPGPrices);\n\n    var averagePrices = [avgA95Price, avgA98Price, avgDPrice, avgLPGPrice];\n\n    //min prices\n    var minA95PriceStation = getMinStation(A95Prices, avgA95Price);\n    var minA98PriceStation = getMinStation(A98Prices, avgA98Price);\n    var minDPriceStation = getMinStation(DPrices, avgDPrice);\n    var minLPGPriceStation = getMinStation(LPGPrices, avgLPGPrice);\n\n    var minPriceStations = [minA95PriceStation, minA98PriceStation, minDPriceStation, minLPGPriceStation];\n  }\n\n  function openMenu(){\n    var menu = document.querySelector(\"#Menu\");\n    if(menuOpen === false){ // OPEN menu\n      menu.style.left = \"0px\";\n      menuOpen = true;\n    }\n    else{\n      menu.style.left = \"-320px\";\n      menuOpen = false;\n    }\n  }\n\n\n  return (\n    <div className=\"App\">\n      <div className=\"lds-dual-ring\" id=\"Loading\"/>\n      <div id=\"ErrorDiv\" style={ErrorCode !== 200 ? {display:\"block\"}:{display:\"none\"}}>\n        <h2>Error {ErrorCode}</h2>\n        The server is currently down, please try again later or contact me at <a className=\"aeffect\" href=\"mailto:mikolaitis.ignas@gmail.com\">mikolaitis.ignas@gmail.com</a>\n      </div>\n      {FuelStationData[0] ? (\n      <div id=\"Menu\">\n        <div id=\"StationPanel\">\n            <p id=\"Title\">KURAS</p>\n            <div id=\"StationTable\">\n              <StationsTable \n                FuelStationData={FuelStationData}\n                averagePrices={averagePrices}\n                quantity={DisplayedTableStations}\n                setDisplayedTableStations={setDisplayedTableStations}\n                setPos={setPos}\n              ></StationsTable>\n            </div>\n            <footer>\n                <p>Fuel Map made by: <a className=\"aeffect\" href=\"https://ignuxas.com\" target=\"_blank\" rel=\"noreferrer\">Ignas Mikolaitis</a></p>\n                <p className=\"betaText\">OPEN BETA: This project is still in development and anything can change, there may be some bugs and unfinished features.</p>\n                <p className=\"redText\">Note: The prices are crowd sourced and may be inaccurate or outdated.</p>\n            </footer>\n        </div>\n        <div id=\"PricePanel\">\n            <i className=\"fas fa-bars\" onClick={() => openMenu()} />\n            <div className=\"avgFuelPrices\">\n                <SideCirles \n                  averagePrices={averagePrices} \n                  setPos={setPos} \n                  minPriceStations={minPriceStations}\n                  minPrices={[minA95PriceStation.A95, minA98PriceStation.A98, minDPriceStation.D, minLPGPriceStation.LPG]}\n                  ></SideCirles>\n            </div>\n        </div>\n    </div>\n    ) : (<></>)\n    }\n\n      <div id=\"map\">\n        <MapContainer\n          whenCreated={(map) => {\n              Map = map\n          }}\n          center={[55.14952486735533, 23.992860624307255]}\n          zoom={8}\n          zoomControl={false}\n          preferCanvas={true}\n        >\n          <MapController></MapController>\n          <TileLayer\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>'\n            url=\"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\"\n            subdomains=\"abcd\"\n            maxZoom=\"20\"\n          />\n          {FuelStationData.map((location) => (\n            // will update this when I update the database\n            location.A95 || location.A98 || location.D || location.LPG ? (\n              <CircleMarker\n                center={[location.latitude, location.longitude]}\n                radius={9}\n                pathOptions={{\n                  color: \"#00AC2B\",\n                  fillOpacity: 1,\n                  fillColor: \"#57FF71\",\n                  bubblingMouseEvents: false,\n                  weight: 2.5,\n                }}\n                class=\"Marker\"\n              >\n                <Popup>\n                  <LocationPopup \n                  location={location} \n                  averagePrices={averagePrices}></LocationPopup>\n                </Popup>\n              </CircleMarker>\n            ) : (<></>)\n          ))}\n        </MapContainer>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}